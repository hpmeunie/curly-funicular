<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sortable Cards from CSV</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 2em; }
    select { margin-bottom: 1em; padding: 0.5em; }
    .cards { display: flex; flex-wrap: wrap; gap: 1em; }
    .card {
      border: 1px solid #ccc;
      border-radius: 12px;
      padding: 1em;
      width: 250px;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
    }
    .card h3 { margin-top: 0; }
  </style>
</head>
<body>

<h2>Sortable Card View</h2>

<label for="sortSelect">Sort by:</label>
<select id="sortSelect">
  <option value="Name">Name</option>
  <option value="Category">Category</option>
  <option value="Date">Date</option>
  <option value="Status">Status</option>
</select>

<div id="cardsContainer" class="cards"></div>

<script>
  let cardData = [];

  function renderCards(data) {
    const container = document.getElementById('cardsContainer');
    container.innerHTML = ''; // Clear previous cards

    data.forEach(row => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <h3>${row.Name}</h3>
        <p><strong>Category:</strong> ${row.Category}</p>
        <p><strong>Date:</strong> ${row.Date}</p>
        <p><strong>Status:</strong> ${row.Status}</p>
      `;
      container.appendChild(card);
    });
  }

  function sortCards(byField) {
    const sorted = [...cardData].sort((a, b) => {
      if (byField === 'Date') {
        return new Date(a[byField]) - new Date(b[byField]);
      }
      return a[byField].localeCompare(b[byField]);
    });
    renderCards(sorted);
  }

  // Load CSV and initialize
  Papa.parse('data.csv', {
    download: true,
    header: true,
    complete: function(results) {
      cardData = results.data;
      sortCards('Name'); // default sort
    }
  });

  document.getElementById('sortSelect').addEventListener('change', function() {
    sortCards(this.value);
  });
</script>

</body>
</html>
